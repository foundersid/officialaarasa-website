/* Smooth scroll behavior */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 100px;
}

/* Ensure header stays on top */
header {
  position: sticky !important;
  top: 0 !important;
}

/* Mobile scrollable sections & compact layout */

@media (max-width: 768px) {
  /* --- What makes carob special --- */
  #comparison .box-border.gap-x-8 {
    display: flex !important;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    scroll-snap-type: x mandatory !important;
    -webkit-overflow-scrolling: touch !important;
    padding-bottom: 1rem !important;
    gap: 1rem !important;
  }

  #comparison .box-border.gap-x-8 > div {
    min-width: 100% !important; /* show only 1 box at a time */
    flex-shrink: 0 !important;
    scroll-snap-align: center !important;
  }

  #comparison .box-border.gap-x-8::-webkit-scrollbar {
    display: none;
  }
  #comparison .box-border.gap-x-8 {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* --- 6 Reasons to love carob --- */
  #benefits .box-border.gap-x-8 {
    display: flex !important;
    flex-wrap: nowrap !important;
    overflow-x: auto !important;
    scroll-snap-type: x mandatory !important;
    -webkit-overflow-scrolling: touch !important;
    padding-bottom: 1rem !important;
    gap: 1rem !important;
  }

  #benefits .box-border.gap-x-8 > div {
    min-width: 48% !important; /* show 2 boxes at a time */
    flex-shrink: 0 !important;
    scroll-snap-align: center !important;
  }

  #benefits .box-border.gap-x-8::-webkit-scrollbar {
    display: none;
  }
  #benefits .box-border.gap-x-8 {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

  /* Reduce section padding */
  section {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }
  
  /* Compact headings */
  h1 {
    font-size: 1.875rem !important;
    line-height: 2.25rem !important;
    margin-bottom: 1rem !important;
  }
  
  h2 {
    font-size: 1.5rem !important;
    line-height: 2rem !important;
    margin-bottom: 1.5rem !important;
  }
  
  h3 {
    font-size: 1.125rem !important;
    line-height: 1.75rem !important;
  }
  
  /* Reduce paragraph spacing */
  p {
    margin-bottom: 0.75rem !important;
  }
  
  /* Compact cards and boxes */
  [class*="rounded-2xl"] {
    padding: 1rem !important;
  }
  
  [class*="rounded-xl"] {
    padding: 0.75rem !important;
  }
  
  /* Reduce grid gaps */
  [class*="gap-y-8"] {
    gap: 1.5rem !important;
  }
  
  [class*="gap-y-6"] {
    gap: 1rem !important;
  }
  
  [class*="gap-y-4"] {
    gap: 0.75rem !important;
  }
  
  /* Compact images */
  img[class*="h-16"] {
    height: 3rem !important;
  }
  
  img[class*="h-24"] {
    height: 4rem !important;
  }
  
  /* Reduce button padding */
  button, a[class*="px-8"] {
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
    padding-top: 0.75rem !important;
    padding-bottom: 0.75rem !important;
  }
  
  /* Compact hero section */
  section:first-of-type {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }
  
  /* Reduce margin bottom for sections */
  section > div {
    margin-bottom: 1rem !important;
  }
  
  /* Compact testimonial cards */
  [class*="shadow-"] > div {
    padding: 1rem !important;
  }
  
  /* Reduce FAQ spacing */
  .faq-answer {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
  
  /* Compact nutrition table */
  [class*="border-b"] {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
  
  /* Reduce form spacing */
  iframe {
    margin-bottom: 1rem !important;
  }
  
  /* Compact footer */
  footer {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }
  
  footer [class*="mb-8"] {
    margin-bottom: 1.5rem !important;
  }
  
  /* Reduce comparison card height */
  [class*="bg-green-100"][class*="border-green-700"] {
    padding: 1rem !important;
  }
  
  /* Compact benefit cards */
  [class*="bg-green-100"][class*="shadow"] {
    padding: 1rem !important;
  }
  
  /* Reduce icon sizes */
  [class*="h-12"][class*="w-12"] {
    height: 2.5rem !important;
    width: 2.5rem !important;
  }
  
  [class*="h-16"][class*="w-16"] {
    height: 3rem !important;
    width: 3rem !important;
  }
  
  /* Compact recipe images */
  img[class*="h-64"] {
    height: 12rem !important;
  }
  
  /* Reduce list spacing */
  ul, ol {
    margin-bottom: 0.75rem !important;
  }
  
  li {
    margin-bottom: 0.25rem !important;
  }
  
  /* Compact header */
  header {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
  
  /* Reduce text sizes */
  [class*="text-xl"] {
    font-size: 1rem !important;
    line-height: 1.5rem !important;
  }
  
  [class*="text-lg"] {
    font-size: 0.9375rem !important;
    line-height: 1.375rem !important;
  }
  
  /* Compact stat cards */
  [class*="border-green-700"][class*="border-2"] {
    padding: 0.75rem !important;
  }
  
  [class*="text-3xl"] {
    font-size: 1.5rem !important;
    line-height: 2rem !important;
  }
}

/* Navigation active state */
.nav-link:hover,
.mobile-nav-link:hover {
  background-color: rgba(21, 128, 61, 0.1);
}

/* Pack card hover effect */
a[href="#order"]:hover {
  transform: translateY(-4px);
}

.nav-link.active,
.mobile-nav-link.active {
  background-color: rgba(21, 128, 61, 0.15);
  color: #15803d;
}

/* Fade in animation for sections */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

/* Apply animations to sections */
section {
  animation: fadeIn 0.8s ease-out;
}

/* Header animations */
header {
  animation: fadeIn 0.6s ease-out;
  transition: all 0.3s ease;
}

header img {
  transition: transform 0.3s ease;
}

header img:hover {
  transform: scale(1.05);
}

/* Button animations - exclude FAQ buttons */
button:not(section button[type="button"]) {
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

button:not(section button[type="button"]):hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
}

button:not(section button[type="button"]):active {
  transform: translateY(0);
}

button:not(section button[type="button"])::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

button:not(section button[type="button"]):hover::before {
  width: 300px;
  height: 300px;
}

/* Link animations */
a {
  transition: all 0.3s ease;
}

a:hover {
  opacity: 0.8;
  transform: translateX(2px);
}

/* Card animations */
[class*="bg-green-100"],
[class*="bg-white"][class*="shadow"],
[class*="bg-yellow-50"] > div > div {
  transition: all 0.3s ease;
}

[class*="bg-green-100"]:hover,
[class*="bg-white"][class*="shadow"]:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
}

/* Image animations */
img {
  transition: transform 0.4s ease, filter 0.3s ease;
}

img:hover {
  transform: scale(1.02);
}

/* Hero section specific animations */
section:first-of-type h1 {
  animation: fadeInUp 0.8s ease-out 0.2s both;
}

section:first-of-type p {
  animation: fadeInUp 0.8s ease-out 0.4s both;
}

section:first-of-type button {
  animation: fadeInUp 0.8s ease-out 0.6s both;
}

section:first-of-type > div > div > div:first-child > div:last-child {
  animation: fadeInUp 0.8s ease-out 0.8s both;
}

section:first-of-type > div > div > div:last-child {
  animation: scaleIn 1s ease-out 0.4s both;
}

/* Grid items stagger animation */
[class*="grid"] > div:nth-child(1) {
  animation: fadeInUp 0.6s ease-out 0.1s both;
}

[class*="grid"] > div:nth-child(2) {
  animation: fadeInUp 0.6s ease-out 0.2s both;
}

[class*="grid"] > div:nth-child(3) {
  animation: fadeInUp 0.6s ease-out 0.3s both;
}

[class*="grid"] > div:nth-child(4) {
  animation: fadeInUp 0.6s ease-out 0.4s both;
}

/* Badge animations */
[class*="rounded-xl"][class*="border-green"] {
  transition: all 0.3s ease;
}

[class*="rounded-xl"][class*="border-green"]:hover {
  transform: scale(1.05);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

/* Icon animations */
[class*="rounded-[3.35544e+07px]"] img {
  transition: transform 0.3s ease;
}

[class*="rounded-[3.35544e+07px]"]:hover img {
  transform: rotate(10deg) scale(1.1);
}

/* Simple FAQ Styles - No Auto Padding, No Glitches */
.faq-answer {
    display: none;
}

.faq-answer.active {
    display: block;
}

.faq-btn .faq-icon {
    transition: transform 0.2s ease;
}

.faq-btn.active .faq-icon {
    transform: rotate(180deg);
}

.faq-btn:focus {
    outline: none;
}

/* WhatsApp floating button animation */
a[aria-label="Chat on WhatsApp"] {
  animation: float 3s ease-in-out infinite;
  transition: all 0.3s ease;
}

a[aria-label="Chat on WhatsApp"]:hover {
  transform: scale(1.1) translateY(-5px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
}

/* Shopping cart button animation */
button[aria-label="Shopping cart"] {
  transition: all 0.3s ease;
}

button[aria-label="Shopping cart"]:hover {
  transform: scale(1.1);
  background-color: rgba(0, 0, 0, 0.05);
}

/* Footer links animation */
footer a {
  position: relative;
  display: inline-block;
}

footer a::after {
  content: '';
  position: absolute;
  width: 0;
  height: 1px;
  bottom: -2px;
  left: 0;
  background-color: currentColor;
  transition: width 0.3s ease;
}

footer a:hover::after {
  width: 100%;
}

/* Certification badges animation */
[class*="bg-white"][class*="shadow"] > div[class*="bg-[oklch(0.967"] {
  transition: all 0.3s ease;
}

[class*="bg-white"][class*="shadow"]:hover > div[class*="bg-[oklch(0.967"] {
  transform: scale(1.1);
}

/* Smooth transitions for all interactive elements */
* {
  transition-property: transform, opacity, box-shadow, background-color, border-color;
  transition-duration: 0.3s;
  transition-timing-function: ease;
}

/* Prevent transition on page load */
.preload * {
  transition: none !important;
}

/* Nutrition facts table rows animation */
[class*="border-b"] {
  transition: background-color 0.2s ease;
}

[class*="border-b"]:hover {
  background-color: rgba(0, 0, 0, 0.02);
}

/* Payment method badges animation */
span[class*="bg-[oklch(0.967"] {
  transition: all 0.3s ease;
}

span[class*="bg-[oklch(0.967"]:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Comparison cards special animation */
[class*="border-green-700"] {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

[class*="border-green-700"]:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

/* Scroll reveal animation */
@keyframes scrollReveal {
  from {
    opacity: 0;
    transform: translateY(50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.scroll-reveal {
  animation: scrollReveal 0.8s ease-out both;
}

/* Loading state animation */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.loading {
  animation: shimmer 2s infinite;
  background: linear-gradient(to right, #f0f0f0 4%, #e0e0e0 25%, #f0f0f0 36%);
  background-size: 1000px 100%;
}

/* NEW: PDF Modal Styles */
#pdf-modal {
  opacity: 0;
  transition: opacity 0.3s ease;
  visibility: hidden;
}

#pdf-modal:not(.hidden) {
  opacity: 1;
  visibility: visible;
}

#pdf-modal #close-lab-report {
  font-size: 2rem;
  line-height: 1;
  font-weight: bold;
  transition: transform 0.2s ease;
}

#pdf-modal #close-lab-report:hover {
  transform: scale(1.1);
}
